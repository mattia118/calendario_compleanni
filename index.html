<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>üìÖ Calendario Compleanni Scout</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Quicksand', sans-serif;
      background: linear-gradient(to bottom, #e5f3ff, #d2ecff, #bfe3ff);
      margin: 0;
      padding: 20px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .scout-icon {
      font-size: 40px;
      margin-bottom: 5px;
    }

    h1 {
      text-align: center;
      margin: 0;
      font-size: 2em;
    }

    #mese-titolo {
      text-align: center;
      font-size: 1.2em;
      margin: 10px 0 20px 0;
    }

    .buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .buttons button {
      padding: 10px 16px;
      background: linear-gradient(to right, #1e88e5, #42a5f5);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 15px;
      cursor: pointer;
      transition: 0.2s;
    }

    .buttons button:hover {
      background: linear-gradient(to right, #1565c0, #1e88e5);
    }

    .calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
      max-width: 700px;
      width: 100%;
      background: rgba(255,255,255,0.95);
      padding: 15px;
      border-radius: 15px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }

    .day-name, .day {
      text-align: center;
      height: 80px;
      border: 1px solid #ccc;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 500;
      font-size: 16px;
    }

    .day-name {
      background-color: #d0e9ff;
      color: #1a3d5e;
    }

    .day {
      cursor: pointer;
      background-color: #ffffff;
      position: relative;
      transition: background-color 0.2s;
    }

    .day:hover {
      background-color: #def2ff;
    }

    .day.empty {
      background-color: #f2f2f2;
      cursor: default;
    }

    .event-dot {
      width: 10px;
      height: 10px;
      background-color: #ff3b3b;
      border-radius: 50%;
      position: absolute;
      bottom: 8px;
      left: 8px;
    }

    .popup, .overlay {
      display: none;
    }

    .overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.4);
      z-index: 5;
    }

    .popup {
      position: fixed;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 0 25px rgba(0,0,0,0.2);
      z-index: 10;
      width: 90%;
      max-width: 320px;
      text-align: center;
    }

    .close-btn {
      margin-top: 15px;
      background-color: #007aff;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
    }

    @media (max-width: 480px) {
      .day-name, .day {
        height: 60px;
        font-size: 14px;
      }

      .event-dot {
        width: 8px;
        height: 8px;
        bottom: 6px;
        left: 6px;
      }
    }
  </style>
</head>
<body>

  <div class="scout-icon">‚öúÔ∏è</div>
  <h1>Calendario Compleanni Scout</h1>
  <div id="mese-titolo"></div>

  <div class="buttons">
    <button id="btn-prev" onclick="cambiaMese(-1)">‚¨ÖÔ∏è Mese Precedente</button>
    <button onclick="cambiaMese(1)">Mese Successivo ‚û°Ô∏è</button>
  </div>

  <div class="calendar" id="calendar"></div>

  <div class="overlay" id="overlay" onclick="chiudiPopup()"></div>
  <div class="popup" id="popup">
    <h3 id="popup-title"></h3>
    <p id="popup-text"></p>
    <button class="close-btn" onclick="chiudiPopup()">Chiudi</button>
  </div>

  <script>
    const mesi = [
      "Gennaio", "Febbraio", "Marzo", "Aprile", "Maggio", "Giugno", "Luglio",
      "Agosto", "Settembre", "Ottobre", "Novembre", "Dicembre"
    ];

    let meseCorrente = 4; // Maggio
    let annoCorrente = 2025;

    const compleanni = {
      "2025-05-08": "üéÇ Luca Rossi",
      "2025-06-15": "üéâ Giulia Bianchi",
      "2025-07-01": "üéä Marco Verdi",
      "2025-12-24": "üéÑ Anna Neri",
      "2026-03-10": "üéà Davide Gialli",
      "2026-07-20": "üéÅ Elisa Marrone"
    };

    function creaCalendario(mese, anno) {
      const container = document.getElementById("calendar");
      container.innerHTML = "";

      document.getElementById("mese-titolo").textContent = `${mesi[mese]} ${anno}`;

      const giorniSettimana = ["Lun", "Mar", "Mer", "Gio", "Ven", "Sab", "Dom"];
      giorniSettimana.forEach(g => {
        const d = document.createElement("div");
        d.className = "day-name";
        d.textContent = g;
        container.appendChild(d);
      });

      const primoGiorno = new Date(anno, mese, 1);
      let inizio = (primoGiorno.getDay() + 6) % 7;

      for (let i = 0; i < inizio; i++) {
        const vuoto = document.createElement("div");
        vuoto.className = "day empty";
        container.appendChild(vuoto);
      }

      const giorniTotali = new Date(anno, mese + 1, 0).getDate();

      for (let g = 1; g <= giorniTotali; g++) {
        const dataStr = `${anno}-${String(mese+1).padStart(2, '0')}-${String(g).padStart(2, '0')}`;
        const div = document.createElement("div");
        div.className = "day";
        div.textContent = g;

        if (compleanni[dataStr]) {
          const dot = document.createElement("div");
          dot.className = "event-dot";
          div.appendChild(dot);
        }

        div.onclick = () => mostraCompleanno(dataStr);
        container.appendChild(div);
      }

      // Mostra o nasconde il bottone "Mese Precedente"
      const btnPrev = document.getElementById("btn-prev");
      if (annoCorrente === 2025 && meseCorrente === 4) {
        btnPrev.style.display = "none";
      } else {
        btnPrev.style.display = "inline-block";
      }
    }

    function mostraCompleanno(data) {
      const testo = compleanni[data] || "Nessun compleanno oggi.";
      document.getElementById("popup-title").innerText = data;
      document.getElementById("popup-text").innerText = testo;
      document.getElementById("popup").style.display = "block";
      document.getElementById("overlay").style.display = "block";
    }

    function chiudiPopup() {
      document.getElementById("popup").style.display = "none";
      document.getElementById("overlay").style.display = "none";
    }

    function cambiaMese(delta) {
      meseCorrente += delta;
      if (meseCorrente < 0) {
        meseCorrente = 11;
        annoCorrente--;
      } else if (meseCorrente > 11) {
        meseCorrente = 0;
        annoCorrente++;
      }

      if (annoCorrente < 2025 || (annoCorrente === 2025 && meseCorrente < 4) ||
          annoCorrente > 2026 || (annoCorrente === 2026 && meseCorrente > 6)) {
        alert("Intervallo valido: Maggio 2025 - Luglio 2026");
        if (delta > 0) {
          meseCorrente -= 1;
          if (meseCorrente < 0) { meseCorrente = 11; annoCorrente--; }
        } else {
          meseCorrente += 1;
          if (meseCorrente > 11) { meseCorrente = 0; annoCorrente++; }
        }
        return;
      }

      creaCalendario(meseCorrente, annoCorrente);
    }

    creaCalendario(meseCorrente, annoCorrente);
  </script>
</body>
</html>
